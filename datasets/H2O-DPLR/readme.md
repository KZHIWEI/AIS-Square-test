## Introduction

This is the dataset of water DFT data for training a long range DeepMD model in [1].

## Generation Approach

We use the concurrent learning scheme Deep Potential GENerator (DP-GEN) [2, 3]. DP-GEN iteratively enlarges the training dataset of labeled DFT data and refines a representative ensemble of DP models by learning from a growing dataset. In this work the representative ensemble consists of four models that differ in the random initialization of the network parameters but are otherwise trained on the same data. In the DP-GEN protocol the four DP models are used to sample the relevant thermodynamic space with deep potential molecular dynamics (DPMD) trajectories. The DP construction includes three stages. In the first one (iteration 1 to 7), bulk configurations in the thermodynamics space 200 ≤ T ≤ 400 K and 1 ≤ P ≤ $10^4$ Bar are explored with isothermal-isobaric (NPT) DPMD. The initial configurations for bulk NPT DPMD simulations are snapshots of DPMD simulations with 128 molecules in the liquid state obtained with the DP model developed in Ref. [4]. The second stage extends from iteration 8 to iteration 15. In this stage slab configurations are explored with canonical (NVT) DPMD simulations in the temperature range 200 ≤ T ≤ 400 K. The initial configurations are prepared by adding a vacuum region on top of bulk liquid configurations. Different surface structures with thickness of the vacuum region ranging from 0.5 Å to 7.0 Å are considered. In the third stage, from iteration 16 to 23, low density bulk configurations are explored by NVT simulations for 200 ≤ T ≤ 400 K. Initial configurations are created by randomly removing 64, 96, 112 and 120 molecules from the initial configurations of stage 1. At each stage, the time span of the DPMD simulations is gradually increased over the iterations, from 1 ps to 10 ps. The maximal deviation of the forces predicted by the ensemble of DP models is monitored along the trajectories and used to classify the explored configurations. Configurations with deviation between 0.15 to 0.30 eV/Å are labelled as training data, following the protocol detailed in Ref. [3]. Single-shot DFT calculations are performed at these configurations. 

DFT calculations are carried out with the Vienna ab initio simulation package (VASP) version 5.4.4 [5, 6], using the PBE exchange-correlation energy. The kinetic energy cut-off for the planewave basis is set to 1500 eV. The self-consistent field procedure is stopped when the energy difference between the last two iterations is less than $10^{−6}$ eV.

## Data Format

The directory tree is as follows:

```
water
-- water
	-- data
	-- data.test
	-- models
-- README
-- requirement.txt
```

The data is saved in a python binary format (xxxx.npy) in 7430 sets (set.xxxx).
In each set, each line of box.npy contains the 9 components of the box vectors; each line of energy.npy contains the energy of a configuration; each line of coord.npy contains the coordinates of atoms in a configuration; each line of force.npy contains the corresponding atomic forces.
The file type.raw and type_map.raw outside the set folder specify the chemical species of atoms in coord.npy and force.npy. Here 0 and denotes Mg, 1 denotes Al, and 2 denotes Cu. 

The data is collected through the "collect" sub-command of DP-GEN, which save each set in an individual folder (init.xxxx & sys.xxxx).
The folder prefix "init" means that, the data serves as the initial data or is generated by the init_bulk sub-command of GP-GEN. 
The folder prefix "sys" means that, the data is generated through the DP-GEN iteration.
All folders are indexed by the systems number used in the DP-GEN strategy.

Please refer to 
Wanrun Jiang, Yuzhi Zhang, Linfeng Zhang, and Han Wang, "Accurate Deep Potential model for the Al-Cu-Mg alloy inthe full concentration space.", https://arxiv.org/abs/2008.11795

Please refer to 
https://github.com/deepmodeling/deepmd-kit
for more details of the data format.
https://github.com/deepmodeling/dpgen
for more details of the DP-GEN strategy and functions.

A pbc unit system usually has the following substructure:

```
-- system
-- -- type_map.raw
-- -- type.raw
-- -- set.000/box.npy
-- -- set.000/coord.npy
-- -- set.000/energy.npy
-- -- set.000/force.npy
-- -- set.000/virial.npy
```

Format Description

| Name     | Property           | Raw file     | Unit | Shape                  | Description                                                  |
| -------- | ------------------ | ------------ | ---- | ---------------------- | ------------------------------------------------------------ |
| type     | Atom type indexes  | type.raw     |      | Natoms                 | Integers that start with 0, represent the atomic type corresponding to type_map.raw |
| type_map | Atom type names    | type_map.raw |      | Ntypes                 | Atom names that map to atom type, which is unnecessart to be contained in the periodic table |
| coord    | Atomic coordinates | coord.npy    | Å    | Nframes \* Natoms \* 3 | The atomic coordinates                                       |
| box      | Boxes              | box.npy      | Å    | Nframes \* 3 \* 3      | The box axes in the order `XX XY XZ YX YY YZ ZX ZY ZZ`       |
| energy   | Frame energies     | energy.npy   | eV   | Nframes                | The potential energy of snapshot                             |
| force    | Atomic forces      | force.npy    | eV/Å | Nframes \* Natoms \* 3 | The atomic forces                                            |
| virial   | Frame virial       | virial.npy   | eV   | Nframes * 9            | The virial frames are in the order `XX XY XZ YX YY YZ ZX ZY ZZ` |

Check [here](https://github.com/deepmodeling/deepmd-kit/blob/master/doc/data/system.md) for more details.



## References

[1] Zhang, Linfeng, et al. "A deep potential model with long-range electrostatic interactions." *The Journal of Chemical Physics* 156.12 (2022): 124107.

[2] Zhang, Linfeng, et al. "Active learning of uniformly accurate interatomic potentials for materials simulation." *Physical Review Materials* 3.2 (2019): 023804.

[3] Zhang, Yuzhi, et al. "DP-GEN: A concurrent learning platform for the generation of reliable deep learning based potential energy models." *Computer Physics Communications* 253 (2020): 107206.

[4] Zhang, Linfeng, et al. "Deep potential molecular dynamics: a scalable model with the accuracy of quantum mechanics." *Physical review letters* 120.14 (2018): 143001.

[5] Kresse, Georg, and Jürgen Furthmüller. "Efficiency of ab-initio total energy calculations for metals and semiconductors using a plane-wave basis set." *Computational materials science* 6.1 (1996): 15-50.

[6] Kresse, Georg, and Jürgen Furthmüller. "Efficient iterative schemes for ab initio total-energy calculations using a plane-wave basis set." *Physical review B* 54.16 (1996): 11169.
